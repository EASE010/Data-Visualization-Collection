<html>
	<body>
	<center>
	    <h2>数据可视化之JS Canvas 图像处理</h2>
		<button id="invert" color="blue">翻转</button>
		<hr width=70%></hr>
		<canvas id="myCanvas" width="600" height="400" style="border:1px solid #c3c3c3;"></canvas>
		<script type="text/javascript">
			var c=document.getElementById("myCanvas");
			var cxt=c.getContext("2d");
			var img=new Image()
			img.src="flowerS.jpg"
			cxt.drawImage(img,0,0);
			var imageData = cxt.getImageData(0,0,c.width, c.height);
			var data = imageData.data;
				
		    var invert = function() {
				for (var i = 0; i < data.length; i += 4) {
				  data[i]     = 255 - data[i];     // red
				  data[i + 1] = 255 - data[i + 1]; // green
				  data[i + 2] = 255 - data[i + 2]; // blue
				}			
			cxt.putImageData(imageData,0,0);
			}
			
			var invertbtn = document.getElementById('invert');
			invertbtn.addEventListener('click', invert);
			
		</script>
		</center>
	</body>
</html>